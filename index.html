<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="utf-8">
    <title>QR Spark | Scan & Go</title>
    <meta http-equiv=X-UA-Compatible content="IE=edge">
    <meta name=description content="QR Spark: The most intuitive and beautifully expressive QR code scanner.">
    <meta name="viewport" content="width=device-width,initial-scale=1.0,viewport-fit=cover">
    <meta name="mobile-web-app-capable" content="yes">
    <meta name="apple-mobile-web-app-title" content="QR Spark">
    <meta name="apple-mobile-web-app-status-bar-style" content="black-translucent">
    <meta name="apple-mobile-web-app-capable" content="yes">
    <meta name="application-name" content="QR Spark">
    <meta name="msapplication-TileColor" content="var(--md-sys-color-primary-container)">
    <meta name="msapplication-TileImage" content="/images/touch/mstile-150x150.png">
    <meta name="theme-color" media="(prefers-color-scheme: light)" content="var(--md-sys-color-surface-light)">
    <meta name="theme-color" media="(prefers-color-scheme: dark)" content="var(--md-sys-color-surface-dark)">

    <link rel="apple-touch-icon" href="/images/touch/apple-touch-icon.jpg">
    <link rel="icon" type="image/png" href="/images/touch/favicon-32x32.png" sizes="32x32">
    <link rel="icon" type="image/png" href="/images/touch/favicon-16x16.png" sizes="16x16">
    <link rel="shortcut icon" href="/images/touch/favicon.ico">
    <link rel="manifest" href="/manifest.json">
    <!-- Link to Material Symbols -->
    <link rel="stylesheet" href="https://fonts.googleapis.com/css2?family=Material+Symbols+Outlined:opsz,wght,FILL,GRAD@20..48,100..700,0..1,-50..200" />
    <!-- Link to a Google Font (e.g., Manrope or a more expressive one) -->
    <link href="https://fonts.googleapis.com/css2?family=Manrope:wght@300;400;500;600;700;800&display=swap" rel="stylesheet">
    <link rel="stylesheet" href="bundle.css"> <!-- We will redefine this -->
    <link rel="preload" as="script" href="/decoder.js">
</head>
<body>
    <div class="app__layout">
        <!-- Top App Bar -->
        <header class="top-app-bar">
            <h1 class="top-app-bar__title">QR Spark</h1>
            <button class="icon-button top-app-bar__action-item" aria-label="About QR Spark">
                <span class="material-symbols-outlined">info</span>
            </button>
        </header>

        <main class="app__content">
            <div class="camera-view-container">
                <video autoplay playsinline class="camera-feed"></video>
                <div class="scanner-overlay">
                    <div class="scanner-overlay__cutout"></div>
                    <div class="scanner-overlay__line"></div>
                    <p class="scanner-overlay__prompt-text">Align QR code within the frame</p>
                </div>
            </div>

            <!-- Dialog for Scanned Result -->
            <div class="dialog-scrim dialog--hide" id="resultDialogScrim">
                <div class="dialog" id="resultDialog" role="dialog" aria-labelledby="resultDialogTitle" aria-describedby="resultDialogContent">
                    <h2 class="dialog__headline" id="resultDialogTitle">QR Code Detected</h2>
                    <div class="dialog__content" id="resultDialogContent">
                        <input type="text" id="resultText" class="text-field" readonly>
                        <!-- In a real app, this input would be styled like a Material text field -->
                    </div>
                    <div class="dialog__actions">
                        <button type="button" class="button button--text" id="resultDialogClose">Close</button>
                        <button type="button" class="button button--filled" id="resultDialogOpen">Open Link</button>
                    </div>
                </div>
            </div>

            <!-- Dialog for About Info -->
            <div class="dialog-scrim dialog--hide" id="infoDialogScrim">
                <div class="dialog" id="infoDialog" role="dialog" aria-labelledby="infoDialogTitle" aria-describedby="infoDialogContent">
                    <div class="dialog__header">
                        <span class="material-symbols-outlined dialog__icon">qr_code_scanner</span>
                        <h2 class="dialog__headline" id="infoDialogTitle">About QR Spark</h2>
                    </div>
                    <div class="dialog__content" id="infoDialogContent">
                        <p>QR Spark is your simple, beautiful, and expressive QR code scanner.</p>
                        <p>Built with cutting-edge web technologies for a seamless experience, online or offline.</p>
                        <div class="app__infodialog-subcontent">
                            <p><strong>Swipe down or </strong><a href="/" rel="noreferrer noopener" class="link-style">Reload by clicking here!</a></p>
                        </div>
                        <span class="app__version">Version Alpha 2025</span>
                    </div>
                    <div class="dialog__actions">
                        <button type="button" class="button button--filled" id="infoDialogClose">Got it!</button>
                    </div>
                </div>
            </div>

            <!-- Snackbar placeholder -->
            <div class="snackbar snackbar--hide" id="appSnackbar">
                <span class="snackbar__text"></span>
                <button class="button button--text snackbar__action">Action</button>
            </div>
        </main>

        <!-- Floating Action Button (FAB) for selecting photos -->
        <div class="fab-container">
            <button class="fab" aria-label="Select photo to scan">
                <span class="material-symbols-outlined">photo_library</span>
            </button>
            <input type="file" id="fileInput" accept="image/*" style="display: none;">
        </div>
    </div>

    <script src="/pwacompat.min.js"></script>
    <script src="/bundle.js"></script> <!-- JS logic for interactions -->
</body>
</html>
