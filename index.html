<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>QR Code Scanner</title>

    <!-- Essential CSS -->
    <link rel="stylesheet" href="https://www.minifier.org/web_assets/frontend/css/stylesheet.css?v=6.7" />
    <link rel="stylesheet" href="https://www.minifier.org/web_assets/frontend/css/tools/qr-code-scanner.css?v=6.7">
    <link rel="stylesheet" href="https://www.minifier.org/web_assets/frontend/css/components/upload-paste.css?v=6.7" />
    
    <style>
        .upload-paste-btns {
            width: max-content;
        }
        /* Basic body style to prevent complete collapse if stylesheet.css is minimal */
        body { 
            font-family: sans-serif; 
            margin: 0;
            padding: 1em; /* Add some padding if .container styling is lost */
        }
        .container { /* Basic container styling if not fully covered by stylesheet.css */
            max-width: 900px;
            margin: 0 auto;
        }
    </style>
</head>

<body>

    <!-- Modals for messages/errors (likely used by the scanner's JS) -->
    <div class="overlay"></div>
    <div class="server-message">
        <div class="error_header">
            <div class="error_content">
                <img src="https://www.minifier.org/web_assets/frontend/img/alert.svg" alt="alert-icon">
                <strong id="error-heading">Empty input field</strong>
            </div>
            <p id="error" class="error"></p>
        </div>
        <div class="close_modal_icon">
            <button class="close_error_modal close_modal">Cancel</button>
        </div>
    </div>

    <div class="server-success-message">
        <div class="success_header">
            <div class="success_content">
                <img src="https://www.minifier.org/web_assets/frontend/img/success.svg" alt="alert-icon">
                <strong id="success-heading">Empty input field</strong>
            </div>
            <p id="success" class="success"></p>
        </div>
        <div class="close_modal_icon">
            <button class="close_error_modal close_modal">Cancel</button>
        </div>
    </div>

    <!-- QR Scanner Tool -->
    <div class="container">
        <h2 class="tool-title">QR Code Scanner Online</h2>

        <div class="QrTool">
            <div class="QrScanner p-relative">
                <div class="actionsScanner">
                    <h3 class="selectFileHeading">Select an option</h3>
                    <div class="actionOption before-upload">
                        <button class="camera">
                            <img src="https://www.minifier.org/web_assets/frontend/img/icons/camera.svg" alt="camera">
                            <span>Camera</span>
                        </button>
                        <button class="uploadFile">
                            <img src="https://www.minifier.org/web_assets/frontend/img/icons/upload-qr.svg" alt="camera">
                            <span>Upload</span>
                        </button>
                        <input hidden="" type="file" accept="image/*" id="Qrfile">
                    </div>

                    <div class="upload-paste-btns">
                        <button class="qr-camera camera">
                            <img src="https://www.minifier.org/web_assets/frontend/img/icons/camera.svg" alt="camera">
                            <span>Camera</span>
                        </button>
                        <label type="button" class="upload-file" for="file"><img
                                src="https://www.minifier.org/web_assets\frontend\img\icons\upload-file.svg" />
                            <span>Upload Image</span></label>
                        <button type="button" class="paste-url"> <img
                                src="https://www.minifier.org/web_assets\frontend\img\icons\paste-url.svg?v=1" />
                            <span>Paste URL</span> </button>
                        <span class="url-input-span d-none">
                            <img src="https://www.minifier.org/web_assets/frontend/img/icons/paste-url.svg?v=1"
                                class="left-icon" />
                            <input type="text" class="url-input" placeholder="Paste URL" />
                            <img src="https://www.minifier.org/web_assets/frontend/img/icons/right-blue-arrow.svg"
                                class="right-icon" />
                        </span>
                    </div>
                    <img src="" id="preview-image" alt="Preview of QR Code" style="max-width: 100%; height: auto;"/> <!-- Added alt and basic style -->

                    <div>
                        <div id="qr_scanner" style="position: relative; min-height: 250px; background-color: #f0f0f0; border: 1px solid #ccc;"> <!-- Added basic styling for visibility -->
                            <div class="camera-issue" id="cameraIssue">Please verify if device has active camera or check
                                for browser camera permission.</div>
                        </div>
                        <div class="scanning-line"></div>
                        <div class="closeIcon">
                            <img src="https://www.minifier.org/web_assets/frontend/img/icons/close-camera.svg" alt="close camera"
                                class="close-camera">
                        </div>
                    </div>
                </div>
            </div>
            <div class="QrResultDiv">
                <div class="clear white-btn all-btns">
                    <span>clear</span>
                </div>
                <div class="QrResult d-none-mob">
                    <div class="default">
                        <span>Your result will be shown here</span>
                    </div>
                    <div class="extractUrl">
                        <label for="url"></label>
                        <div class="ResultContent"></div>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <!-- Essential JavaScript -->
    <script src="https://www.minifier.org/web_assets/frontend/script/jquery.js"></script>
    
    <script>
        // Constants for the QR Scanner script
        const QrNotFound = "No QR Code Found!";
        const ScanFile = "Choose a file to scan!";
        const CopyFailed = "Failed to copy";
        const CopyToolTip = "copied";
        const ServerError = "Something went wrong.";
        const copyText = "copy";
        const UrlLabel = "URL/Link";
        const NumericLabel = "Numeric";
        const ScannedTextLabel = "Scanned Text";
        const error_heading = "Error!";
        const invalid_url_popup_heading = "Invalid URL";
        const invalid_url_popup_text = "Please enter an image URL.";
        const invalid_size_popup_heading = "Invalid File Size";
        const invalid_size_popup_text = "File size must be up to 2MB. Please upload a proper file."; // Adjusted message slightly
        const invalid_type_popup_heading = "Invalid File Type";
        const invalid_type_popup_text = "File type is invalid. Please upload a valid image file."; // Adjusted message slightly
    </script>
    
    <script src="https://www.minifier.org/web_assets/frontend/script/common.min.js?v=6.7"></script>

    <script src="https://cdnjs.cloudflare.com/ajax/libs/html5-qrcode/2.3.8/html5-qrcode.min.js"
        integrity="sha512-r6rDA7W6ZeQhvl8S7yRVQUKVHdexq+GAlNkNNqVC7YyIV+NwqCTJe2hDWCiffTyRNOeGEzRRJ9ifvRm/HCzGYg=="
        crossorigin="anonymous" referrerpolicy="no-referrer"></script>
    <script async defer src="https://cdn.jsdelivr.net/npm/jsqr/dist/jsQR.min.js"></script>
    
    <script src="https://www.minifier.org/web_assets/frontend/script/tools/qr-code-scanner.min.js?v=6.7" type="module"></script>
    <script src="https://www.minifier.org/web_assets/frontend/script/components/upload-paste.min.js?v=6.7"></script>

</body>
</html>
